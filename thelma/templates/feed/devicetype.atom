<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="master.macros['standard_feed']">
  <content_type xmlns="http://schemata.cenix-bioscience.com/content_type"
               name="application/vnd.everest+xml;type=deviceTypeCollection"
               metal:fill-slot="content_type" />
  <content type="application/vnd.everest+xml;type=deviceTypeMember"
           metal:fill-slot="content">
    <deviceType xmlns="http://schemata.cenix-bioscience.com/device-type"
                tal:define="total_devices len(member.devices)">
      <label tal:content="member.label">freezer</label>
      <link xmlns="http://www.w3.org/2005/Atom"
            tal:omit-tag="total_devices == 0"
            rel="http://relations.cenix-bioscience.com/device"
            type="application/atom+xml;type=feed"
            title="2" href="/devices?q=type:equal-to:/device-types/freezer"
            tal:attributes="title total_devices;
                            href mresource_to_url(ember.devices, request)" />
    </deviceType>
  </content>
</feed>
